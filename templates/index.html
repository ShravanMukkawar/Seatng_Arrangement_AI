<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seating Arrangement</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <h1>Seating Arrangement</h1>
    <div id="seating-chart"></div>
    <script>
        fetch('/students')
            .then(response => response.json())
            .then(data => {
                const seatingChart = document.getElementById('seating-chart');
                seatingChart.innerHTML = ""; // Clear any existing content

                // Dynamically generate seating layout
                const rows = 5; // Set the number of rows you want
                const seatsPerRow = 3; // Set the number of seats per row

                for (let i = 0; i < rows; i++) {
                    const rowDiv = document.createElement('div');
                    rowDiv.className = 'row';
                    for (let j = 0; j < seatsPerRow; j++) {
                        const seatIndex = i * seatsPerRow + j;
                        const seatDiv = document.createElement('div');
                        seatDiv.className = 'seat';
                        seatDiv.textContent = seatIndex < data.length ? 'S' : 'N/A';

                        if (seatIndex < data.length) {
                            // Add hover effect to show student details
                            seatDiv.title = `${data[seatIndex].Name}\nMIS No: ${data[seatIndex]['MIS No']}\nBranch: ${data[seatIndex].Branch}`;
                        }

                        rowDiv.appendChild(seatDiv);
                    }
                    seatingChart.appendChild(rowDiv);
                }
            });
    </script>
</body>
</html>
